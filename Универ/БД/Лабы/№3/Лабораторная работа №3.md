<div class="title">
	<div class="header">
		<p>МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ</p>
		<p>ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ БЮДЖЕТНОЕ ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ</p>
		<p class="header__university-name">«БЕЛГОРОДСКИЙ ГОСУДАРСТВЕННЫЙ ТЕХНОЛОГИЧЕСКИЙ УНИВЕРСИТЕТ им. В. Г. ШУХОВА» (БГТУ им. В.Г. Шухова)</p>
		<p>Кафедра программного обеспечения вычислительной техники и автоматизированных систем<p>
	</div>
	<div class="main">
		<p class="main__title">Лабораторная работа №3</p>
		<p class="main__subject">по дисциплине: «Базы Данных»</p>
		<p class="main__topic">тема: «Нормализация отношений в базе данных»</p>
	</div>
	<div class="footer">
		<div class="footer__student-info">
			<p class="footer__student-info__title">Выполнил студент группы ПВ-222</p>
			<p class="footer__student-info__item">Короткунов Александр Александрович</p>
		</div>
		<div class="footer__teachers-info">
			<p class="footer__teachers-info__title">Проверили</p>
			<p class="footer_teachers-info__item">Панченко Максим Владимирович</p>
		</div>
	</div>
	<div class="date">
		<p>Белгород 2024 г.</p>
	</div>
</div>

**Цель работы:** изучить нормальные формы отношений, получить навыки последовательной нормализации отношений.

<center>Вариант 8</center>

**Задание 1.** Нормализовать структуру базы данных, разработанную в предыдущих лабораторных работах. Доказать соответствие 3 NF, выписав функциональные зависимости для каждой сущности.

### 1. **Таблица `workers`**

**Структура таблицы:**

- **id** (Primary Key)
- **phone**
- **specialization**
- **full_name**

**Функциональные зависимости:**

1. `id → phone`
2. `id → specialization`
3. `id → full_name`

**Анализ на 3NF:**

- Все неключевые атрибуты (`phone`, `specialization`, `full_name`) зависят **только** от первичного ключа `id`.
- Никаких транзитивных зависимостей нет.

**Заключение:** `workers` находится в 3NF.

---

### 2. **Таблица `jobs`**

**Структура таблицы:**

- **id** (Primary Key)
- **job_name**
- **completion_date**
- **total_cost**
- **worker_id** (Foreign Key)
- **lodger_id** (Foreign Key)

**Функциональные зависимости:**

1. `id → job_name`
2. `id → completion_date`
3. `id → total_cost`
4. `id → worker_id`
5. `id → lodger_id`

**Анализ на 3NF:**

- Все неключевые атрибуты зависят **только** от первичного ключа `id`.
- Никаких транзитивных зависимостей нет.

**Заключение:** `jobs` находится в 3NF.

---

### 3. **Таблица `lodgers`**

**Структура таблицы:**

- **id** (Primary Key)
- **full_name**
- **address**
- **phone**

**Функциональные зависимости:**

1. `id → full_name`
2. `id → address`
3. `id → phone`

**Анализ на 3NF:**

- Все неключевые атрибуты (`full_name`, `address`, `phone`) зависят **только** от первичного ключа `id`.
- Никаких транзитивных зависимостей нет.

**Заключение:** `lodgers` находится в 3NF.

---

### 4. **Таблица `bills`**

**Структура таблицы:**

- **id** (Primary Key)
- **total_cost**
- **date_of_issue**
- **status**
- **issued_to** (Foreign Key)

**Функциональные зависимости:**

1. `id → total_cost`
2. `id → date_of_issue`
3. `id → status`
4. `id → issued_to`

**Анализ на 3NF:**

- Все неключевые атрибуты (`total_cost`, `date_of_issue`, `status`, `issued_to`) зависят **только** от первичного ключа `id`.
- Никаких транзитивных зависимостей нет.

**Заключение:** `bills` находится в 3NF.

---

### 5. **Таблица `payments`**

**Структура таблицы:**

- **id** (Primary Key)
- **total_cost**
- **date_of_payment**
- **payment_method**
- **bill_id** (Foreign Key)
- **lodger_id** (Foreign Key)

**Функциональные зависимости:**

1. `id → total_cost`
2. `id → date_of_payment`
3. `id → payment_method`
4. `id → bill_id`
5. `id → lodger_id`

**Анализ на 3NF:**

- Все неключевые атрибуты (`total_cost`, `date_of_payment`, `payment_method`, `bill_id`, `lodger_id`) зависят **только** от первичного ключа `id`.
- Никаких транзитивных зависимостей нет.

**Заключение:** `payments` находится в 3NF.

**Задание 2.** Привести данное в задании отношение к 3 NF согласно номеру варианта.

Исходное отношение `R0`:

![[Pasted image 20241210112604.png]]

Все атрибуты атомарны, отношение `R0` уже находится в 1NF.

Приведём таблицу в 2NF. Для этого нужно будет разбить её на 2 новых отношения `R1` - отношение описывающее книги и `R2` - отношение описывающее записи выдач книг. 

Отношение `R1`:
<table style="width: 100%">
	<thead>
		<tr>
			<td>Инвентарный номер</td>
			<td>Название книги</td>
			<td>Автор</td>
			<td>Категория</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>32</td>
			<td>Кот в сапогах</td>
			<td>Ш. Перро</td>
			<td>Скази</td>
		</tr>
		<tr>
			<td>33</td>
			<td>Windows 95 изнутри</td>
			<td>А. Кинг</td>
			<td>Пользовательский курс</td>
		</tr>
		<tr>
			<td>35</td>
			<td>Русалочка</td>
			<td>Х. Кристиан Андерсен</td>
			<td>Сказки</td>
		</tr>
		<tr>
			<td>36</td>
			<td>Чистый код</td>
			<td>К. Мартин Роберт</td>
			<td>Программирование</td>
		</tr>
		<tr>
			<td>37</td>
			<td>Совершенный код</td>
			<td>М. Стив</td>
			<td>Программирование</td>
		</tr>
		<tr>
			<td>38</td>
			<td>3D Studio MAX в примерах</td>
			<td>Э. Потс</td>
			<td>Графика</td>
		</tr>
	</tbody>
</table>

Отношение `R2`:
<table style="width: 100%">
	<thead>
		<tr>
			<td>Инвентарный номер</td>
			<td>ФИО читателя</td>
			<td>Телефон</td>
			<td>Дата выдачи</td>
			<td>Дата возврата</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>32</td>
			<td>Шаров Д. М.</td>
			<td>12-12-02</td>
			<td>02.05.13</td>
			<td>16.05.13</td>
		</tr>
		<tr>
			<td>33</td>
			<td>Шил И. А.</td>
			<td>34-01-23</td>
			<td>05.05.13</td>
			<td>08.05.13</td>
		</tr>
		<tr>
			<td>33</td>
			<td>Акимова А. А.</td>
			<td>44-56-11</td>
			<td>08.05.13</td>
			<td>22.05.13</td>
		</tr>
		<tr>
			<td>35</td>
			<td>Левин Н. А.</td>
			<td>12-01-33</td>
			<td>13.05.13</td>
			<td>24.05.13</td>
		</tr>
		<tr>
			<td>35</td>
			<td>Акимова А. А.</td>
			<td>44-56-11</td>
			<td>30.05.13</td>
			<td></td>
		</tr>
		<tr>
			<td>36</td>
			<td>Разуман Н. В.</td>
			<td>71-09-23</td>
			<td>14.05.13</td>
			<td>28.06.13</td>
		</tr>
		<tr>
			<td>37</td>
			<td>Шаров Д. М.</td>
			<td>12-12-02</td>
			<td>28.05.13</td>
			<td>01.07.13</td>
		</tr>
		<tr>
			<td>38</td>
			<td>Акимова А. А.</td>
			<td>44-56-11</td>
			<td>29.05.13</td>
			<td>12.07.13</td>
		</tr>
		<tr>
			<td>38</td>
			<td>Черных Л. С.</td>
			<td>34-22-34</td>
			<td>30.08.13</td>
			<td></td>
		</tr>
		<tr>
			<td>37</td>
			<td>Шаров Д. М.</td>
			<td>12-12-02</td>
			<td>31.07.13</td>
			<td></td>
		</tr>
	</tbody>
</table>

Следующим шагом будет приведение таблицы к 3NF. Для этого нужно разбить отношение `R2` на ещё два отношения. `R3` - отношение описывающее сущность читателей. Отношение `R4` - отношение описывающее сущности записей выдач книг.

Отношение `R3`:
<table style="width: 100%">
	<thead>
		<tr>
			<td>ФИО читателя</td>
			<td>Телефон</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Шаров Д. М.</td>
			<td>12-12-02</td>
		</tr>
		<tr>
			<td>Шил И. А.</td>
			<td>34-01-23</td>
		</tr>
		<tr>
			<td>Акимова А. А.</td>
			<td>44-56-11</td>
		</tr>
		<tr>
			<td>Левин Н. А.</td>
			<td>12-01-33</td>
		</tr>
		<tr>
			<td>Акимова А. А.</td>
			<td>44-56-11</td>
		</tr>
		<tr>
			<td>Разуман Н. В.</td>
			<td>71-09-23</td>
		</tr>
		<tr>
			<td>Шаров Д. М.</td>
			<td>12-12-02</td>
		</tr>
		<tr>
			<td>Акимова А. А.</td>
			<td>44-56-11</td>
		</tr>
		<tr>
			<td>Черных Л. С.</td>
			<td>34-22-34</td>
		</tr>
		<tr>
			<td>Шаров Д. М.</td>
			<td>12-12-02</td>
		</tr>
	</tbody>
</table>

Отношение `R4`:
<table style="width: 100%">
	<thead>
		<tr>
			<td>Инвентарный номер</td>
			<td>ФИО читателя</td>
			<td>Дата выдачи</td>
			<td>Дата возврата</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>32</td>
			<td>Шаров Д. М.</td>
			<td>02.05.13</td>
			<td>16.05.13</td>
		</tr>
		<tr>
			<td>33</td>
			<td>Шил И. А.</td>
			<td>05.05.13</td>
			<td>08.05.13</td>
		</tr>
		<tr>
			<td>33</td>
			<td>Акимова А. А.</td>
			<td>08.05.13</td>
			<td>22.05.13</td>
		</tr>
		<tr>
			<td>35</td>
			<td>Левин Н. А.</td>
			<td>13.05.13</td>
			<td>24.05.13</td>
		</tr>
		<tr>
			<td>35</td>
			<td>Акимова А. А.</td>
			<td>30.05.13</td>
			<td></td>
		</tr>
		<tr>
			<td>36</td>
			<td>Разуман Н. В.</td>
			<td>14.05.13</td>
			<td>28.06.13</td>
		</tr>
		<tr>
			<td>37</td>
			<td>Шаров Д. М.</td>
			<td>28.05.13</td>
			<td>01.07.13</td>
		</tr>
		<tr>
			<td>38</td>
			<td>Акимова А. А.</td>
			<td>29.05.13</td>
			<td>12.07.13</td>
		</tr>
		<tr>
			<td>38</td>
			<td>Черных Л. С.</td>
			<td>30.08.13</td>
			<td></td>
		</tr>
		<tr>
			<td>37</td>
			<td>Шаров Д. М.</td>
			<td>31.07.13</td>
			<td></td>
		</tr>
	</tbody>
</table>

**Вывод:** изучили нормальные формы отношений, получили навыки последовательной нормализации отношений.
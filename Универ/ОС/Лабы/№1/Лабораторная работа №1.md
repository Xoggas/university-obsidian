<div class="title">
	<div class="header">
		<p>МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ</p>
		<p>ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ БЮДЖЕТНОЕ ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ</p>
		<p class="header__university-name">«БЕЛГОРОДСКИЙ ГОСУДАРСТВЕННЫЙ ТЕХНОЛОГИЧЕСКИЙ УНИВЕРСИТЕТ им. В. Г. ШУХОВА» (БГТУ им. В.Г. Шухова)</p>
		<p>Кафедра программного обеспечения вычислительной техники и автоматизированных систем<p>
	</div>
	<div class="main">
		<p class="main__title">Лабораторная работа №1</p>
		<p class="main__subject">по дисциплине: «Операционные системы»</p>
		<p class="main__topic">тема: «Системные вызовы. Базовая работа с процессами в ОС Linux»</p>
	</div>
	<div class="footer">
		<div class="footer__student-info">
			<p class="footer__student-info__title">Выполнил студент группы ПВ-222</p>
			<p class="footer__student-info__item">Короткунов Александр Александрович</p>
		</div>
		<div class="footer__teachers-info">
			<p class="footer__teachers-info__title">Проверили</p>
			<p class="footer_teachers-info__item">Островский Алексей Мичеславович</p>
			<p class="footer_teachers-info__item">Четвертухин Виктор Романович</p>
		</div>
	</div>
	<div class="date">
		<p>Белгород 2024 г.</p>
	</div>
</div>

**Цель работы:** изучить основы работы с системными вызовами и процессами в операционной системе Linux (Ubuntu).

<center>Вариант 1</center>

**Задание 1.** Изучить основные концепции системных вызовов.

**Задание 2.** Получить основное понятие о процессе. Изучить базовые системные вызовы POSIX для работы с процессами, такими как: fork(), waitpid().

**Задание 3.** Ознакомиться с механизмом системных вызовов в языке программирования С.

**Задание 4.** Выполнить индивидуальное задание, связанное с использованием POSIX-системных вызовов, для закрепления знаний на практике. Подготовить соответствующую программу на языке С.

```c
#include <stdio.h>  
#include <stdlib.h>  
#include <unistd.h>  
#include <time.h>  
#include <sys/wait.h>  
  
void random_delay(const int max_seconds)  
{  
    srand(time(NULL) ^ getpid());  
    const int delay = rand() % max_seconds + 1;  
    printf("Процесс %d ждёт %d секунд\n", getpid(), delay);  
    sleep(delay);  
}  
  
pid_t pid_0 = -1, pid_1 = -1, pid_2 = -1, pid_3 = -1, pid_4 = -1, pid_5 = -1, pid_6 = -1;  
  
int main()  
{  
    pid_0 = getpid();  
  
    printf("Запустили корневой процесс %d\n", pid_0);  
  
    pid_1 = fork();  
  
    if (pid_1 == 0)  
    {  
        printf("Запустили процесс 1 с ID %d, потомок %d\n", getpid(), getppid());  
  
        pid_2 = fork();  
  
        if (pid_2 == 0)  
        {  
            printf("Запустили процесс 2 с ID %d, потомок %d\n", getpid(), getppid());  
        }  
        else  
        {  
            pid_3 = fork();  
  
            if (pid_3 == 0)  
            {  
                printf("Запустили процесс 3 с ID %d, потомок %d\n", getpid(), getppid());  
            }  
        }  
    }  
    else  
    {  
        pid_4 = fork();  
  
        if (pid_4 == 0)  
        {  
            printf("Запустили процесс 4 с ID %d, потомок %d\n", getpid(), getppid());  
  
            pid_5 = fork();  
  
            if (pid_5 == 0)  
            {  
                printf("Запустили процесс 5 с ID %d, потомок %d\n", getpid(), getppid());  
            }  
            else  
            {  
                pid_6 = fork();  
  
                if (pid_6 == 0)  
                {  
                    printf("Запустили процесс 6 с ID %d, потомок %d\n", getpid(), getppid());  
                }  
            }  
        }  
    }  
  
    random_delay(8);  
  
    exit(0);  
  
    while (wait(NULL) > 0)  
    {  
    }  
  
    printf("Процесс %d завершился\n", getpid());  
  
    return 0;  
}
```

###### Использованные системные вызовы
- **fork()**
- **getpid()**
- **getppid()**
- **sleep()** 
- **wait()**
- **exit()** 

###### Вывод программы:
```
Запустили корневой процесс 13266
Запустили процесс 1 с ID 13267, потомок 13266
Процесс 13266 ждёт 6 секунд
Запустили процесс 4 с ID 13268, потомок 13266
Запустили процесс 2 с ID 13269, потомок 13267
Процесс 13267 ждёт 5 секунд
Запустили процесс 5 с ID 13270, потомок 13268
Процесс 13269 ждёт 6 секунд
Процесс 13268 ждёт 3 секунд
Запустили процесс 3 с ID 13271, потомок 13267
Процесс 13270 ждёт 7 секунд
Запустили процесс 6 с ID 13272, потомок 13268
Процесс 13271 ждёт 3 секунд
Процесс 13272 ждёт 1 секунд

Process finished with exit code 0
```

###### Демонстрация поведения процессов 

![[Pasted image 20241216191733.png]]

![[Pasted image 20241216191756.png]]

![[Pasted image 20241216191807.png]]

**Вывод:** изучили основы работы с системными вызовами и процессами в операционной системе Linux (Ubuntu).